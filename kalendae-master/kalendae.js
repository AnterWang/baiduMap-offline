!function(t){var e,n,s=function(t,e){if("function"==typeof document.addEventListener||i.isIE8()){var s=!1;try{s=t instanceof Element}catch(e){s=!!t&&1===s.nodeType}s||"string"==typeof t||(e=t);var o,u,d,h,c,l,f,m,y=this,p=y.classes,_=y.settings=i.merge(y.defaults,{attachTo:t},e||{}),v=y.container=i.make("div",{class:p.container}),g=y.calendars=[],w=n().day(_.weekStart),b=[],k=[],M=0,D=_.months;for(i.isIE8()&&i.addClassName(v,"ie8"),M=7;M--;)b.push(w.format(_.columnHeaderFormat)),w.add("days",1);if(r(y),"object"==typeof _.subscribe)for(M in _.subscribe)_.subscribe.hasOwnProperty(M)&&y.subscribe(M,_.subscribe[M]);y._sel=[],_.selected&&y.setSelected(_.selected,!1),o=_.viewStartDate?n(_.viewStartDate,_.format):y._sel.length>0?n(y._sel[0]):n(),y.viewStartDate=o.date(1);var Y={past:_.months-1,"today-past":_.months-1,any:_.months>2?Math.floor(_.months/2):0,"today-future":0,future:0}[this.settings.direction];if(Y&&n().month()==n(y.viewStartDate).month()&&(y.viewStartDate=n(y.viewStartDate).subtract({M:Y}).date(1)),"function"==typeof _.blackout)y.blackout=_.blackout;else if(_.blackout){var S=a(_.blackout,_.parseSplitDelimiter,_.format);y.blackout=function(t){if(t=n(t).startOf("day").yearDay(),t<1||!y._sel)return!1;for(var e=S.length;e--;)if(S[e].startOf("day").yearDay()===t)return!0;return!1}}else y.blackout=function(){return!1};for(y.direction=y.directions[_.direction]?y.directions[_.direction]:y.directions.any,D=Math.max(_.months,1);D--;){u=i.make("div",{class:p.calendar},v),u.setAttribute("data-cal-index",D),_.months>1&&(D==Math.max(_.months-1,1)?i.addClassName(u,p.monthFirst):0===D?i.addClassName(u,p.monthLast):i.addClassName(u,p.monthMiddle)),d=i.make("div",{class:p.title},u),_.useYearNav||i.addClassName(d,p.disableYearNav),i.make("a",{class:p.previousYear},d),i.make("a",{class:p.previousMonth},d),i.make("a",{class:p.nextYear},d),i.make("a",{class:p.nextMonth},d),h=i.make("span",{class:p.caption},d),c=i.make("div",{class:p.header},u),M=0;do m=i.make("span",{},c),m.innerHTML=b[M];while(++M<7);l=i.make("div",{class:p.days},u),M=0,k=[];do"week"==_.mode?(M%7===0&&(f=i.make("div",{class:p.week+" clearfix"},l),k.push(f)),i.make("span",{},f)):k.push(i.make("span",{},l));while(++M<42);g.push({caption:h,days:k}),D&&i.make("div",{class:p.monthSeparator},v)}y.draw(),i.addEvent(v,"mousedown",function(t,e){var s;if(i.hasClassName(e,p.nextMonth))return y.disableNext||y.publish("view-changed",y,["next-month"])===!1||(y.viewStartDate.add("months",1),y.draw()),!1;if(i.hasClassName(e,p.previousMonth))return y.disablePreviousMonth||y.publish("view-changed",y,["previous-month"])===!1||(y.viewStartDate.subtract("months",1),y.draw()),!1;if(i.hasClassName(e,p.nextYear))return y.disableNext||y.publish("view-changed",y,["next-year"])===!1||(y.viewStartDate.add("years",1),y.draw()),!1;if(i.hasClassName(e,p.previousYear))return y.disablePreviousMonth||y.publish("view-changed",y,["previous-year"])===!1||(y.viewStartDate.subtract("years",1),y.draw()),!1;if((i.hasClassName(e.parentNode,p.days)||i.hasClassName(e.parentNode,p.week))&&i.hasClassName(e,p.dayActive)&&(s=e.getAttribute("data-date"))){if(s=n(s,_.dayAttributeFormat).hours(12),y.publish("date-clicked",y,[s])!==!1)switch(_.mode){case"multiple":y.addSelected(s)||y.removeSelected(s);break;case"range":y.addSelected(s);break;case"week":y.weekSelected(s);break;case"single":default:y.addSelected(s)}return!1}return!(!i.hasClassName(e.parentNode,p.week)||!(s=e.getAttribute("data-date")))&&(s=n(s,_.dayAttributeFormat).hours(12),y.publish("date-clicked",y,[s])!==!1&&"week"==_.mode&&y.weekSelected(s),!1)}),(_.attachTo=i.$(_.attachTo))&&_.attachTo.appendChild(v)}};s.prototype={defaults:{attachTo:null,months:1,weekStart:0,direction:"any",directionScrolling:!0,viewStartDate:null,blackout:null,selected:null,mode:"single",dayOutOfMonthClickable:!1,format:null,subscribe:null,columnHeaderFormat:"dd",titleFormat:"MMMM, YYYY",dayNumberFormat:"D",dayAttributeFormat:"YYYY-MM-DD",parseSplitDelimiter:/,\s*|\s+-\s+/,rangeDelimiter:" - ",multipleDelimiter:", ",useYearNav:!0,dateClassMap:{}},classes:{container:"kalendae",calendar:"k-calendar",monthFirst:"k-first-month",monthMiddle:"k-middle-month",monthLast:"k-last-month",title:"k-title",previousMonth:"k-btn-previous-month",nextMonth:"k-btn-next-month",previousYear:"k-btn-previous-year",nextYear:"k-btn-next-year",caption:"k-caption",header:"k-header",days:"k-days",week:"k-week",dayOutOfMonth:"k-out-of-month",dayInMonth:"k-in-month",daySelected:"k-selected",dayInRange:"k-range",dayToday:"k-today",monthSeparator:"k-separator",disablePreviousMonth:"k-disable-previous-month-btn",disableNextMonth:"k-disable-next-month-btn",disablePreviousYear:"k-disable-previous-year-btn",disableNextYear:"k-disable-next-year-btn",disableYearNav:"k-disable-year-nav"},disablePreviousMonth:!1,disableNextMonth:!1,disablePreviousYear:!1,disableNextYear:!1,directions:{past:function(t){return n(t).startOf("day").yearDay()>=e.yearDay()},"today-past":function(t){return n(t).startOf("day").yearDay()>e.yearDay()},any:function(t){return!1},"today-future":function(t){return n(t).startOf("day").yearDay()<e.yearDay()},future:function(t){return n(t).startOf("day").yearDay()<=e.yearDay()}},getSelectedAsDates:function(){for(var t=[],e=0,n=this._sel.length;e<n;e++)t.push(this._sel[e].toDate());return t},getSelectedAsText:function(t){for(var e=[],n=0,s=this._sel.length;n<s;n++)e.push(this._sel[n].format(t||this.settings.format||"YYYY-MM-DD"));return e},getSelectedRaw:function(){for(var t=[],e=0,s=this._sel.length;e<s;e++)t.push(n(this._sel[e]));return t},getSelected:function(t){var e=this.getSelectedAsText(t);switch(this.settings.mode){case"week":case"range":return e.splice(2),e.join(this.settings.rangeDelimiter);case"multiple":return e.join(this.settings.multipleDelimiter);case"single":default:return e[0]||null}},isSelected:function(t){if(t=n(t).startOf("day").yearDay(),t<1||!this._sel||this._sel.length<1)return!1;switch(this.settings.mode){case"week":case"range":var e=this._sel[0]?this._sel[0].startOf("day").yearDay():0,s=this._sel[1]?this._sel[1].startOf("day").yearDay():0;return e===t||s===t?1:e&&s?(t>e&&t<s||e<s&&t<e&&t>s)&&-1:0;case"multiple":for(var a=this._sel.length;a--;)if(this._sel[a].startOf("day").yearDay()===t)return!0;return!1;case"single":default:return this._sel[0]&&this._sel[0].startOf("day").yearDay()===t}return!1},setSelected:function(t,e){var s,i=a(t,this.settings.parseSplitDelimiter,this.settings.format),r=a(this.getSelected(),this.settings.parseSplitDelimiter,this.settings.format);for(s=r.length;s--;)this.removeSelected(r[s],!1);for(s=i.length;s--;)this.addSelected(i[s],!1);e!==!1&&(i[0]&&(this.viewStartDate=n(i[0],this.settings.format)),this.draw())},addSelected:function(t,e){switch(t=n(t,this.settings.format).hours(12),this.settings.dayOutOfMonthClickable&&"range"!==this.settings.mode&&this.makeSelectedDateVisible(t),this.settings.mode){case"multiple":if(this.isSelected(t))return!1;this._sel.push(t);break;case"range":1!==this._sel.length?this._sel=[t]:t.startOf("day").yearDay()>this._sel[0].startOf("day").yearDay()?this._sel[1]=t:this._sel=[t,this._sel[0]];break;case"single":default:this._sel=[t]}return this._sel.sort(function(t,e){return t.startOf("day").yearDay()-e.startOf("day").yearDay()}),this.publish("change",this,[t]),e!==!1&&this.draw(),!0},weekSelected:function(t){var e=t.toDate(),s=n(e).startOf("week"),a=n(e).endOf("week").subtract("day",1);this._sel=[s,a],this.publish("change",this,[t.day()]),this.draw()},makeSelectedDateVisible:function(t){outOfViewMonth=n(t).date("1").diff(this.viewStartDate,"months"),outOfViewMonth<0?this.viewStartDate.subtract("months",1):outOfViewMonth>0&&outOfViewMonth>=this.settings.months&&this.viewStartDate.add("months",1)},removeSelected:function(t,e){t=n(t,this.settings.format).hours(12);for(var s=this._sel.length;s--;)if(this._sel[s].startOf("day").yearDay()===t.startOf("day").yearDay())return this._sel.splice(s,1),this.publish("change",this,[t]),e!==!1&&this.draw(),!0;return!1},draw:function(){var t,s,a,r,o,u,d,h,c,l=n(this.viewStartDate).startOf("day").hours(12),f=this.classes,m=0,y=0,p=this.settings;o=this.calendars.length;do{t=n(l).date(1),t.day(t.day()<this.settings.weekStart?this.settings.weekStart-7:this.settings.weekStart),s=this.calendars[m],s.caption.innerHTML=l.format(this.settings.titleFormat),y=0,u=0;do"week"==p.mode?(y%7===0&&0!==y&&u++,a=s.days[u].childNodes[y%7]):a=s.days[y],r=[],d=this.isSelected(t),d&&r.push({"-1":f.dayInRange,1:f.daySelected,true:f.daySelected}[d]),t.month()!=l.month()?r.push(f.dayOutOfMonth):r.push(f.dayInMonth),(!(this.blackout(t)||this.direction(t)||t.month()!=l.month()&&p.dayOutOfMonthClickable===!1)||d>0)&&r.push(f.dayActive),t.startOf("day").yearDay()===e.yearDay()&&r.push(f.dayToday),h=t.format(this.settings.dayAttributeFormat),p.dateClassMap[h]&&r.push(p.dateClassMap[h]),a.innerHTML=t.format(p.dayNumberFormat),a.className=r.join(" "),a.setAttribute("data-date",h),t.add("days",1);while(++y<42);l.add("months",1)}while(++m<o);if(p.directionScrolling){var _=n().startOf("day").hours(12);c=l.diff(_,"months",!0),"today-past"===p.direction||"past"===p.direction?c<=0?(this.disableNextMonth=!1,i.removeClassName(this.container,f.disableNextMonth)):(this.disableNextMonth=!0,i.addClassName(this.container,f.disableNextMonth)):"today-future"!==p.direction&&"future"!==p.direction||(c>p.months?(this.disablePreviousMonth=!1,i.removeClassName(this.container,f.disablePreviousMonth)):(this.disablePreviousMonth=!0,i.addClassName(this.container,f.disablePreviousMonth))),"today-past"===p.direction||"past"===p.direction?c<=-11?(this.disableNextYear=!1,i.removeClassName(this.container,f.disableNextYear)):(this.disableNextYear=!0,i.addClassName(this.container,f.disableNextYear)):"today-future"!==p.direction&&"future"!==p.direction||(c>11+p.months?(this.disablePreviousYear=!1,i.removeClassName(this.container,f.disablePreviousYear)):(this.disablePreviousYear=!0,i.addClassName(this.container,f.disablePreviousYear)))}}};var a=function(t,e,s){var a=[];"string"==typeof t?t=t.split(e):i.isArray(t)||(t=[t]);var r,o=t.length,u=0;do t[u]&&(r=n(t[u],s).hours(12),r.isValid()&&a.push(r));while(++u<o);return a};window.Kalendae=s;var i=s.util={isIE8:function(){return!(!/msie 8./i.test(navigator.appVersion)||/opera/i.test(navigator.userAgent)||!window.ActiveXObject||!XDomainRequest||window.msPerformance)},$:function(t){return"string"==typeof t?document.getElementById(t):t},$$:function(t){return document.querySelectorAll(t)},make:function(t,e,n){var s,a=document.createElement(t);if(e)for(s in e)e.hasOwnProperty(s)&&a.setAttribute(s,e[s]);return n&&n.appendChild(a),a},isVisible:function(t){return t.offsetWidth>0||t.offsetHeight>0},getStyle:function(t,e){var n,s;return t.currentStyle?n=t.currentStyle[e]:window.getComputedStyle&&(s=window.getComputedStyle(t,null),n=s?s[e]:""),n},domReady:function(t){var e=document.readyState;"complete"===e||"interactive"===e?t():setTimeout(function(){i.domReady(t)},9)},addEvent:function(t,e,n){var s=function(e){e=e||window.event;var s=e.target||e.srcElement,a=n.apply(t,[e,s]);return a===!1&&(e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0)),a};return t.attachEvent?t.attachEvent("on"+e,s):t.addEventListener(e,s,!1),s},removeEvent:function(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n,!1)},fireEvent:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)}else document.createEventObject?t.fireEvent("on"+e):"function"==typeof t["on"+e]&&t["on"+e]()},hasClassName:function(t,e){if(!(t=i.$(t)))return!1;var n=t.className;return n.length>0&&(n==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))},addClassName:function(t,e){(t=i.$(t))&&(i.hasClassName(t,e)||(t.className+=(t.className?" ":"")+e))},removeClassName:function(t,e){(t=i.$(t))&&(t.className=i.trimString(t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")))},isFixed:function(t){do if("fixed"===i.getStyle(t,"position"))return!0;while(t=t.offsetParent);return!1},scrollContainer:function(t){do{var e=i.getStyle(t,"overflow");if("auto"===e||"scroll"===e)return t}while((t=t.parentNode)&&t!=window.document.body);return null},getPosition:function(t,e){var n=t.offsetLeft,s=t.offsetTop,a={};if(!e)for(;t=t.offsetParent;)n+=t.offsetLeft,s+=t.offsetTop;return a[0]=a.left=n,a[1]=a.top=s,a},getHeight:function(t){return t.offsetHeight||t.scrollHeight},getWidth:function(t){return t.offsetWidth||t.scrollWidth},trimString:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},merge:function(){for(var t=arguments[0]===!0,e={},n=t?1:0,s=function(e,n){if("object"==typeof n){for(var s in n)n.hasOwnProperty(s)&&(t&&"object"==typeof e[s]&&"object"==typeof n[s]?_update(e[s],n[s]):e[s]=n[s]);return e}};n<arguments.length;n++)s(e,arguments[n]);return e},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)}};"function"==typeof document.addEventListener&&s.util.domReady(function(){for(var t,e,n,a=i.$$(".auto-kal"),r=a.length;r--;)t=a[r],n=t.getAttribute("data-kal"),e=null==n||""==n?{}:new Function("return {"+n+"};")(),"INPUT"===t.tagName?new s.Input(t,e):new s(i.merge(e,{attachTo:t}))}),s.Input=function(t,e){if("function"==typeof document.addEventListener||i.isIE8()){var n,a,r=this.input=i.$(t),o=!1;if(!r||"INPUT"!==r.tagName)throw"First argument for Kalendae.Input must be an <input> element or a valid element id.";var u=this,d=u.classes,h=u.settings=i.merge(u.defaults,e);this._events={},h.attachTo=window.document.body,h.selected?n=!0:h.selected=r.value,s.call(u,h),h.closeButton&&(a=i.make("a",{class:d.closeButton},u.container),i.addEvent(a,"click",function(){r.blur()})),n&&(r.value=u.getSelected());var c=u.container,l=!1;c.style.display="none",i.addClassName(c,d.positioned),this._events.containerMouseDown=i.addEvent(c,"mousedown",function(t,e){l=!0}),this._events.documentMousedown=i.addEvent(window.document,"mousedown",function(t,e){l=!1}),this._events.inputFocus=i.addEvent(r,"focus",function(){o=!0,u.setSelected(this.value),o=!1,u.show()}),this._events.inputBlur=i.addEvent(r,"blur",function(){l&&i.isIE8()?(l=!1,r.focus()):u.hide()}),this._events.inputKeyup=i.addEvent(r,"keyup",function(t){o=!0,u.setSelected(this.value),o=!1});var f=i.scrollContainer(r);f&&i.addEvent(f,"scroll",function(t){r.blur()}),u.subscribe("change",function(){o||(r.value=u.getSelected(),i.fireEvent(r,"change"))})}},s.Input.prototype=i.merge(s.prototype,{defaults:i.merge(s.prototype.defaults,{format:"MM/DD/YYYY",side:"bottom",closeButton:!0,offsetLeft:0,offsetTop:0}),classes:i.merge(s.prototype.classes,{positioned:"k-floating",closeButton:"k-btn-close"}),show:function(){var t=this.container,e=t.style,n=this.input,s=i.getPosition(n),a=i.scrollContainer(n),r=a?a.scrollTop:0,o=this.settings;switch(e.display="",o.side){case"left":e.left=s.left-i.getWidth(t)+o.offsetLeft+"px",e.top=s.top+o.offsetTop-r+"px";break;case"right":e.left=s.left+i.getWidth(n)+"px",e.top=s.top+o.offsetTop-r+"px";break;case"top":e.left=s.left+o.offsetLeft+"px",e.top=s.top-i.getHeight(t)+o.offsetTop-r+"px";break;case"bottom":default:e.left=s.left+o.offsetLeft+"px",e.top=s.top+i.getHeight(n)+o.offsetTop-r+"px"}e.position=i.isFixed(n)?"fixed":"absolute",this.publish("show",this)},hide:function(){this.container.style.display="none",this.publish("hide",this)},destroy:function(){var t=this.container,e=this.input;i.removeEvent(t,"mousedown",this._events.containerMousedown),i.removeEvent(window.document,"mousedown",this._events.documentMousedown),i.removeEvent(e,"focus",this._events.inputFocus),i.removeEvent(e,"blur",this._events.inputBlur),i.removeEvent(e,"keyup",this._events.inputKeyup),t.remove()}});var r=function(t){t||(t=this);var e=t.c_||{};t.publish=function(t,n,s){for(var a,i=e[t],r=i?i.length:0;r--;)if(a=i[r].apply(n,s||[]),"boolean"==typeof a)return a},t.subscribe=function(t,n,s){return e[t]||(e[t]=[]),s?e[t].push(n):e[t].unshift(n),[t,n]},t.unsubscribe=function(t){for(var n=e[t[0]],s=t[1],a=n?n.length:0;a--;)n[a]===s&&n.splice(a,1)}};if(function(t){function e(t,e){return function(n){return u(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function s(){}function a(t){r(this,t)}function i(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,a=t.days||t.day||t.d||0,i=t.hours||t.hour||t.h||0,r=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*o+6e4*r+36e5*i,this._days=a+7*s,this._months=n+12*e,this._data={},this._bubble()}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t){return t<0?Math.ceil(t):Math.floor(t)}function u(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function d(t,e,n,s){var a,i,r=e._milliseconds,o=e._days,u=e._months;r&&t._d.setTime(+t._d+r*n),(o||u)&&(a=t.minute(),i=t.hour()),o&&t.date(t.date()+o*n),u&&t.month(t.month()+u*n),r&&!s&&F.updateOffset(t),(o||u)&&(t.minute(a),t.hour(i))}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var n,s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),i=0;for(n=0;n<s;n++)~~t[n]!==~~e[n]&&i++;return i+a}function l(t){return t?at[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function f(t,e){return e.abbr=t,A[t]||(A[t]=new s),A[t].set(e),A[t]}function m(t){if(!t)return F.fn._lang;if(!A[t]&&z)try{require("./lang/"+t)}catch(t){return F.fn._lang}return A[t]}function y(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function p(t){var e,n,s=t.match(I);for(e=0,n=s.length;e<n;e++)ut[s[e]]?s[e]=ut[s[e]]:s[e]=y(s[e]);return function(a){var i="";for(e=0;e<n;e++)i+=s[e]instanceof Function?s[e].call(a,t):s[e];return i}}function _(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var s=5;s--&&$.test(e);)e=e.replace($,n);return it[e]||(it[e]=p(e)),it[e](t)}function v(t,e){switch(t){case"DDDD":return V;case"YYYY":return Z;case"YYYYY":return R;case"S":case"SS":case"SSS":case"DDD":return G;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return B;case"a":case"A":return m(e._l)._meridiemParse;case"X":return q;case"Z":case"ZZ":return X;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return j;default:return new RegExp(t.replace("\\",""))}}function g(t){var e=(X.exec(t)||[])[0],n=(e+"").match(et)||["-",0,0],s=+(60*n[1])+~~n[2];return"+"===n[0]?-s:s}function w(t,e,n){var s,a=n._a;switch(t){case"M":case"MM":a[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":s=m(n._l).monthsParse(e),null!=s?a[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(a[2]=~~e);break;case"YY":a[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":a[0]=~~e;break;case"a":case"A":n._isPm=m(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":a[3]=~~e;break;case"m":case"mm":a[4]=~~e;break;case"s":case"ss":a[5]=~~e;break;case"S":case"SS":case"SSS":a[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=g(e)}null==e&&(n._isValid=!1)}function b(t){var e,n,s=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),t._d=n}}function k(t){var e,n,s=t._f.match(I),a=t._i;for(t._a=[],e=0;e<s.length;e++)n=(v(s[e],t).exec(a)||[])[0],n&&(a=a.slice(a.indexOf(n)+n.length)),ut[s[e]]&&w(s[e],n,t);a&&(t._il=a),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),b(t)}function M(t){var e,n,s,i,o,u=99;for(i=0;i<t._f.length;i++)e=r({},t),e._f=t._f[i],k(e),n=new a(e),o=c(e._a,n.toArray()),n._il&&(o+=n._il.length),o<u&&(u=o,s=n);r(t,s)}function D(t){var e,n=t._i,s=J.exec(n);if(s){for(t._f="YYYY-MM-DD"+(s[2]||" "),e=0;e<4;e++)if(tt[e][1].exec(n)){t._f+=tt[e][0];break}X.exec(n)&&(t._f+=" Z"),k(t)}else t._d=new Date(n)}function Y(e){var n=e._i,s=U.exec(n);n===t?e._d=new Date:s?e._d=new Date((+s[1])):"string"==typeof n?D(e):h(n)?(e._a=n.slice(0),b(e)):e._d=n instanceof Date?new Date((+n)):new Date(n)}function S(t,e,n,s,a){return a.relativeTime(e||1,!!n,t,s)}function T(t,e,n){var s=H(Math.abs(t)/1e3),a=H(s/60),i=H(a/60),r=H(i/24),o=H(r/365),u=s<45&&["s",s]||1===a&&["m"]||a<45&&["mm",a]||1===i&&["h"]||i<22&&["hh",i]||1===r&&["d"]||r<=25&&["dd",r]||r<=45&&["M"]||r<345&&["MM",H(r/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,S.apply({},u)}function O(t,e,n){var s,a=n-e,i=n-t.day();return i>a&&(i-=7),i<a-7&&(i+=7),s=F(t).add("d",i),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function C(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=m().preparse(e)),F.isMoment(e)?(t=r({},e),t._d=new Date((+e._d))):n?h(n)?M(t):k(t):Y(t),new a(t))}function N(t,e){F.fn[t]=F.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),F.updateOffset(this),this):this._d["get"+n+e]()}}function x(t){F.duration.fn[t]=function(){return this._data[t]}}function E(t,e){F.duration.fn["as"+t]=function(){return+this/e}}for(var F,P,L="2.1.0",H=Math.round,A={},z="undefined"!=typeof module&&module.exports,U=/^\/?Date\((\-?\d+)/i,W=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,I=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,j=/\d\d?/,G=/\d{1,3}/,V=/\d{3}/,Z=/\d{1,4}/,R=/[+\-]?\d{1,6}/,B=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,X=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,q=/[\+\-]?\d+(\.\d{1,3})?/,J=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Q="YYYY-MM-DDTHH:mm:ssZ",tt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],et=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),st={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},at={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},it={},rt="DDD w W M D d".split(" "),ot="M D H h m s w W".split(" "),ut={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+u(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};rt.length;)P=rt.pop(),ut[P+"o"]=n(ut[P],P);for(;ot.length;)P=ot.pop(),ut[P+P]=e(ut[P],2);for(ut.DDDD=e(ut.DDD,3),s.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=F([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"日_一_二_三_四_五_六".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=F([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(t,e,n,s):a.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return O(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},F=function(t,e,n){return C({_i:t,_f:e,_l:n,_isUTC:!1})},F.utc=function(t,e,n){return C({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},F.unix=function(t){return F(1e3*t)},F.duration=function(t,e){var n,s,a=F.isDuration(t),r="number"==typeof t,o=a?t._input:r?{}:t,u=W.exec(t);return r?e?o[e]=t:o.milliseconds=t:u&&(n="-"===u[1]?-1:1,o={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),s=new i(o),a&&t.hasOwnProperty("_lang")&&(s._lang=t._lang),s},F.version=L,F.defaultFormat=Q,F.updateOffset=function(){},F.lang=function(t,e){return t?(e?f(t,e):A[t]||m(t),void(F.duration.fn._lang=F.fn._lang=m(t))):F.fn._lang._abbr},F.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),m(t)},F.isMoment=function(t){return t instanceof a},F.isDuration=function(t){return t instanceof i},F.fn=a.prototype={clone:function(){return F(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){return _(F(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!c(this._a,(this._isUTC?F.utc(this._a):F(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=_(this,t||F.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?F.duration(+e,t):F.duration(t,e),d(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?F.duration(+e,t):F.duration(t,e),d(this,n,-1),this},diff:function(t,e,n){var s,a,i=this._isUTC?F(t).zone(this._offset||0):F(t).local(),r=6e4*(this.zone()-i.zone());return e=l(e),"year"===e||"month"===e?(s=432e5*(this.daysInMonth()+i.daysInMonth()),a=12*(this.year()-i.year())+(this.month()-i.month()),a+=(this-F(this).startOf("month")-(i-F(i).startOf("month")))/s,a-=6e4*(this.zone()-F(this).startOf("month").zone()-(i.zone()-F(i).startOf("month").zone()))/s,"year"===e&&(a/=12)):(s=this-i,a="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?a:o(a)},from:function(t,e){return F.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(F(),t)},calendar:function(){var t=this.diff(F().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),F.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=l(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+F(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+F(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+F(t).startOf(e)},min:function(t){return t=F.apply(null,arguments),t<this?this:t},max:function(t){return t=F.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=g(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&d(this,F.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return F.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=H((F(this).startOf("day")-F(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=O(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=O(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=O(this,1,4).week;
return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=m(e),this)}},P=0;P<nt.length;P++)N(nt[P].toLowerCase().replace(/s$/,""),nt[P]);N("year","FullYear"),F.fn.days=F.fn.day,F.fn.months=F.fn.month,F.fn.weeks=F.fn.week,F.fn.isoWeeks=F.fn.isoWeek,F.fn.toJSON=F.fn.toISOString,F.duration.fn=i.prototype={_bubble:function(){var t,e,n,s,a=this._milliseconds,i=this._days,r=this._months,u=this._data;u.milliseconds=a%1e3,t=o(a/1e3),u.seconds=t%60,e=o(t/60),u.minutes=e%60,n=o(e/60),u.hours=n%24,i+=o(n/24),u.days=i%30,r+=o(i/30),u.months=r%12,s=o(r/12),u.years=s},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=T(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=F.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=F.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=l(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=l(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:F.fn.lang};for(P in st)st.hasOwnProperty(P)&&(E(P,st[P]),x(P.toLowerCase()));E("Weeks",6048e5),F.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},F.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),z&&(module.exports=F),"undefined"==typeof ender&&(this.moment=F),"function"==typeof define&&define.amd&&define("moment",[],function(){return F}),this.moment=F}.call("undefined"==typeof s?window:s),!s.moment){if(!window.moment)throw"Kalendae requires moment.js. You must use kalendae.standalone.js if moment is not available on the page.";s.moment=window.moment}n=s.moment,n.fn.yearDay=function(t){var e=Math.floor(this._d/864e5);return"undefined"==typeof t?e:this.add({d:t-e})},e=s.moment().startOf("day"),"undefined"==typeof jQuery||"function"!=typeof document.addEventListener&&!i.isIE8()||(jQuery.fn.kalendae=function(t){return this.each(function(e,n){"INPUT"===n.tagName?$(n).data("kalendae",new s.Input(n,t)):$(n).data("kalendae",new s($.extend({},{attachTo:n},t)))}),this})}();